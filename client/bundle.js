/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@yandeu/events/cjs/index.js":
/*!**************************************************!*\
  !*** ./node_modules/@yandeu/events/cjs/index.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\n/**\r\n * @package      npmjs.com/package/@yandeu/events (events.min.js)\r\n *\r\n * @author       Arnout Kazemier (https://github.com/3rd-Eden)\r\n * @copyright    Copyright (c) 2014 Arnout Kazemier\r\n * @license      {@link https://github.com/primus/eventemitter3/blob/master/LICENSE|MIT}\r\n *\r\n * @author       Yannick Deubel (https://github.com/yandeu)\r\n * @copyright    Copyright (c) 2021 Yannick Deubel; Project Url: https://github.com/yandeu/events\r\n * @license      {@link https://github.com/yandeu/events/blob/master/LICENSE|MIT}\r\n */\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Events = void 0;\r\nvar version_1 = __webpack_require__(/*! ./version */ \"./node_modules/@yandeu/events/cjs/version.js\");\r\nvar EE = /** @class */ (function () {\r\n    function EE(fn, context, once) {\r\n        if (once === void 0) { once = false; }\r\n        this.fn = fn;\r\n        this.context = context;\r\n        this.once = once;\r\n    }\r\n    return EE;\r\n}());\r\nvar addListener = function (emitter, event, fn, context, once) {\r\n    if (typeof fn !== 'function') {\r\n        throw new TypeError('The listener must be a function');\r\n    }\r\n    var listener = new EE(fn, context || emitter, once);\r\n    if (!emitter._events.has(event))\r\n        emitter._events.set(event, listener), emitter._eventsCount++;\r\n    else if (!emitter._events.get(event).fn)\r\n        emitter._events.get(event).push(listener);\r\n    else\r\n        emitter._events.set(event, [emitter._events.get(event), listener]);\r\n    return emitter;\r\n};\r\nvar clearEvent = function (emitter, event) {\r\n    if (--emitter._eventsCount === 0)\r\n        emitter._events = new Map();\r\n    else\r\n        emitter._events.delete(event);\r\n};\r\nvar Events = /** @class */ (function () {\r\n    function Events() {\r\n        this._events = new Map();\r\n        this._eventsCount = 0;\r\n    }\r\n    Object.defineProperty(Events, \"VERSION\", {\r\n        get: function () {\r\n            return version_1.VERSION;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Events.prototype.eventNames = function () {\r\n        return Array.from(this._events.keys());\r\n    };\r\n    Events.prototype.listeners = function (event) {\r\n        var handlers = this._events.get(event);\r\n        if (!handlers)\r\n            return [];\r\n        if (handlers.fn)\r\n            return [handlers.fn];\r\n        for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\r\n            ee[i] = handlers[i].fn;\r\n        }\r\n        return ee;\r\n    };\r\n    Events.prototype.listenerCount = function (event) {\r\n        var listeners = this._events.get(event);\r\n        if (!listeners)\r\n            return 0;\r\n        if (listeners.fn)\r\n            return 1;\r\n        return listeners.length;\r\n    };\r\n    Events.prototype.emit = function (event) {\r\n        var _a, _b;\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (!this._events.has(event))\r\n            return false;\r\n        var listeners = this._events.get(event);\r\n        var i;\r\n        if (listeners.fn) {\r\n            if (listeners.once)\r\n                this.removeListener(event, listeners.fn, undefined, true);\r\n            return (_a = listeners.fn).call.apply(_a, __spreadArray([listeners.context], args)), true;\r\n        }\r\n        else {\r\n            var length_1 = listeners.length;\r\n            for (i = 0; i < length_1; i++) {\r\n                if (listeners[i].once)\r\n                    this.removeListener(event, listeners[i].fn, undefined, true);\r\n                (_b = listeners[i].fn).call.apply(_b, __spreadArray([listeners[i].context], args));\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    Events.prototype.on = function (event, fn, context) {\r\n        return addListener(this, event, fn, context, false);\r\n    };\r\n    Events.prototype.once = function (event, fn, context) {\r\n        return addListener(this, event, fn, context, true);\r\n    };\r\n    Events.prototype.removeListener = function (event, fn, context, once) {\r\n        if (!this._events.has(event))\r\n            return this;\r\n        if (!fn) {\r\n            clearEvent(this, event);\r\n            return this;\r\n        }\r\n        var listeners = this._events.get(event);\r\n        if (listeners.fn) {\r\n            if (listeners.fn === fn && (!once || listeners.once) && (!context || listeners.context === context)) {\r\n                clearEvent(this, event);\r\n            }\r\n        }\r\n        else {\r\n            for (var i = 0, events = [], length = listeners.length; i < length; i++) {\r\n                if (listeners[i].fn !== fn || (once && !listeners[i].once) || (context && listeners[i].context !== context)) {\r\n                    events.push(listeners[i]);\r\n                }\r\n            }\r\n            // Reset the array, or remove it completely if we have no more listeners.\r\n            if (events.length)\r\n                this._events.set(event, events.length === 1 ? events[0] : events);\r\n            else\r\n                clearEvent(this, event);\r\n        }\r\n        return this;\r\n    };\r\n    Events.prototype.removeAllListeners = function (event) {\r\n        if (event) {\r\n            if (this._events.delete(event))\r\n                clearEvent(this, event);\r\n        }\r\n        else {\r\n            this._events = new Map();\r\n            this._eventsCount = 0;\r\n        }\r\n        return this;\r\n    };\r\n    Object.defineProperty(Events.prototype, \"off\", {\r\n        // alias\r\n        get: function () {\r\n            return this.removeListener;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Events.prototype, \"addListener\", {\r\n        // alias\r\n        get: function () {\r\n            return this.on;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return Events;\r\n}());\r\nexports.Events = Events;\r\n/** TESTING SECTION */\r\n// type Colors = 'red' | 'blue' | 'yellow'\r\n// interface EventMap {\r\n//   signal: () => void\r\n//   error: (err: string) => void\r\n//   something: (a: number, b: { colors?: Colors[] }, c: [number, number, string]) => void\r\n// }\r\n// const test = new Events<EventMap>()\r\n// const listener: EventListener<EventMap, 'something'> = (a, b, c) => {\r\n//   console.log(a, b.colors, c)\r\n// }\r\n// test.on('something', listener)\r\n// setTimeout(() => {\r\n//   test.removeListener('something', listener)\r\n// }, 5000)\r\n// test.once('error', err => {\r\n//   console.log('error:', err)\r\n// })\r\n// console.log(test.eventNames())\r\n// test.emit('error', 'ok')\r\n// test.emit('error', 'failed')\r\n// test.emit('something', 1234, { colors: ['blue'] }, [3, 3, 'k'])\r\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHlhbmRldS9ldmVudHMvY2pzL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJvd3NlcnNlcnZlci8uL25vZGVfbW9kdWxlcy9AeWFuZGV1L2V2ZW50cy9janMvaW5kZXguanM/MWZmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuLyoqXHJcbiAqIEBwYWNrYWdlICAgICAgbnBtanMuY29tL3BhY2thZ2UvQHlhbmRldS9ldmVudHMgKGV2ZW50cy5taW4uanMpXHJcbiAqXHJcbiAqIEBhdXRob3IgICAgICAgQXJub3V0IEthemVtaWVyIChodHRwczovL2dpdGh1Yi5jb20vM3JkLUVkZW4pXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDE0IEFybm91dCBLYXplbWllclxyXG4gKiBAbGljZW5zZSAgICAgIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcHJpbXVzL2V2ZW50ZW1pdHRlcjMvYmxvYi9tYXN0ZXIvTElDRU5TRXxNSVR9XHJcbiAqXHJcbiAqIEBhdXRob3IgICAgICAgWWFubmljayBEZXViZWwgKGh0dHBzOi8vZ2l0aHViLmNvbS95YW5kZXUpXHJcbiAqIEBjb3B5cmlnaHQgICAgQ29weXJpZ2h0IChjKSAyMDIxIFlhbm5pY2sgRGV1YmVsOyBQcm9qZWN0IFVybDogaHR0cHM6Ly9naXRodWIuY29tL3lhbmRldS9ldmVudHNcclxuICogQGxpY2Vuc2UgICAgICB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3lhbmRldS9ldmVudHMvYmxvYi9tYXN0ZXIvTElDRU5TRXxNSVR9XHJcbiAqL1xyXG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tKSB7XHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcclxuICAgICAgICB0b1tqXSA9IGZyb21baV07XHJcbiAgICByZXR1cm4gdG87XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZXhwb3J0cy5FdmVudHMgPSB2b2lkIDA7XHJcbnZhciB2ZXJzaW9uXzEgPSByZXF1aXJlKFwiLi92ZXJzaW9uXCIpO1xyXG52YXIgRUUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xyXG4gICAgICAgIGlmIChvbmNlID09PSB2b2lkIDApIHsgb25jZSA9IGZhbHNlOyB9XHJcbiAgICAgICAgdGhpcy5mbiA9IGZuO1xyXG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICAgICAgdGhpcy5vbmNlID0gb25jZTtcclxuICAgIH1cclxuICAgIHJldHVybiBFRTtcclxufSgpKTtcclxudmFyIGFkZExpc3RlbmVyID0gZnVuY3Rpb24gKGVtaXR0ZXIsIGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xyXG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcclxuICAgIH1cclxuICAgIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKTtcclxuICAgIGlmICghZW1pdHRlci5fZXZlbnRzLmhhcyhldmVudCkpXHJcbiAgICAgICAgZW1pdHRlci5fZXZlbnRzLnNldChldmVudCwgbGlzdGVuZXIpLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xyXG4gICAgZWxzZSBpZiAoIWVtaXR0ZXIuX2V2ZW50cy5nZXQoZXZlbnQpLmZuKVxyXG4gICAgICAgIGVtaXR0ZXIuX2V2ZW50cy5nZXQoZXZlbnQpLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgZWxzZVxyXG4gICAgICAgIGVtaXR0ZXIuX2V2ZW50cy5zZXQoZXZlbnQsIFtlbWl0dGVyLl9ldmVudHMuZ2V0KGV2ZW50KSwgbGlzdGVuZXJdKTtcclxuICAgIHJldHVybiBlbWl0dGVyO1xyXG59O1xyXG52YXIgY2xlYXJFdmVudCA9IGZ1bmN0aW9uIChlbWl0dGVyLCBldmVudCkge1xyXG4gICAgaWYgKC0tZW1pdHRlci5fZXZlbnRzQ291bnQgPT09IDApXHJcbiAgICAgICAgZW1pdHRlci5fZXZlbnRzID0gbmV3IE1hcCgpO1xyXG4gICAgZWxzZVxyXG4gICAgICAgIGVtaXR0ZXIuX2V2ZW50cy5kZWxldGUoZXZlbnQpO1xyXG59O1xyXG52YXIgRXZlbnRzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRXZlbnRzKCkge1xyXG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRzLCBcIlZFUlNJT05cIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmVyc2lvbl8xLlZFUlNJT047XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgRXZlbnRzLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2V2ZW50cy5rZXlzKCkpO1xyXG4gICAgfTtcclxuICAgIEV2ZW50cy5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzLmdldChldmVudCk7XHJcbiAgICAgICAgaWYgKCFoYW5kbGVycylcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIGlmIChoYW5kbGVycy5mbilcclxuICAgICAgICAgICAgcmV0dXJuIFtoYW5kbGVycy5mbl07XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBoYW5kbGVycy5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlZTtcclxuICAgIH07XHJcbiAgICBFdmVudHMucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzLmdldChldmVudCk7XHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnMpXHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIGlmIChsaXN0ZW5lcnMuZm4pXHJcbiAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgIHJldHVybiBsaXN0ZW5lcnMubGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIEV2ZW50cy5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBfYSwgX2I7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5oYXMoZXZlbnQpKVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cy5nZXQoZXZlbnQpO1xyXG4gICAgICAgIHZhciBpO1xyXG4gICAgICAgIGlmIChsaXN0ZW5lcnMuZm4pIHtcclxuICAgICAgICAgICAgaWYgKGxpc3RlbmVycy5vbmNlKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gKF9hID0gbGlzdGVuZXJzLmZuKS5jYWxsLmFwcGx5KF9hLCBfX3NwcmVhZEFycmF5KFtsaXN0ZW5lcnMuY29udGV4dF0sIGFyZ3MpKSwgdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBsZW5ndGhfMSA9IGxpc3RlbmVycy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGhfMTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgKF9iID0gbGlzdGVuZXJzW2ldLmZuKS5jYWxsLmFwcGx5KF9iLCBfX3NwcmVhZEFycmF5KFtsaXN0ZW5lcnNbaV0uY29udGV4dF0sIGFyZ3MpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBFdmVudHMucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gKGV2ZW50LCBmbiwgY29udGV4dCkge1xyXG4gICAgICAgIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcclxuICAgIH07XHJcbiAgICBFdmVudHMucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnQsIGZuLCBjb250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIGFkZExpc3RlbmVyKHRoaXMsIGV2ZW50LCBmbiwgY29udGV4dCwgdHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgRXZlbnRzLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2V2ZW50cy5oYXMoZXZlbnQpKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICBpZiAoIWZuKSB7XHJcbiAgICAgICAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZlbnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50cy5nZXQoZXZlbnQpO1xyXG4gICAgICAgIGlmIChsaXN0ZW5lcnMuZm4pIHtcclxuICAgICAgICAgICAgaWYgKGxpc3RlbmVycy5mbiA9PT0gZm4gJiYgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKSAmJiAoIWNvbnRleHQgfHwgbGlzdGVuZXJzLmNvbnRleHQgPT09IGNvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckV2ZW50KHRoaXMsIGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnNbaV0uZm4gIT09IGZuIHx8IChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSkgfHwgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXHJcbiAgICAgICAgICAgIGlmIChldmVudHMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzLnNldChldmVudCwgZXZlbnRzLmxlbmd0aCA9PT0gMSA/IGV2ZW50c1swXSA6IGV2ZW50cyk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBFdmVudHMucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGlmIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fZXZlbnRzLmRlbGV0ZShldmVudCkpXHJcbiAgICAgICAgICAgICAgICBjbGVhckV2ZW50KHRoaXMsIGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRzLnByb3RvdHlwZSwgXCJvZmZcIiwge1xyXG4gICAgICAgIC8vIGFsaWFzXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUxpc3RlbmVyO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudHMucHJvdG90eXBlLCBcImFkZExpc3RlbmVyXCIsIHtcclxuICAgICAgICAvLyBhbGlhc1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vbjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gRXZlbnRzO1xyXG59KCkpO1xyXG5leHBvcnRzLkV2ZW50cyA9IEV2ZW50cztcclxuLyoqIFRFU1RJTkcgU0VDVElPTiAqL1xyXG4vLyB0eXBlIENvbG9ycyA9ICdyZWQnIHwgJ2JsdWUnIHwgJ3llbGxvdydcclxuLy8gaW50ZXJmYWNlIEV2ZW50TWFwIHtcclxuLy8gICBzaWduYWw6ICgpID0+IHZvaWRcclxuLy8gICBlcnJvcjogKGVycjogc3RyaW5nKSA9PiB2b2lkXHJcbi8vICAgc29tZXRoaW5nOiAoYTogbnVtYmVyLCBiOiB7IGNvbG9ycz86IENvbG9yc1tdIH0sIGM6IFtudW1iZXIsIG51bWJlciwgc3RyaW5nXSkgPT4gdm9pZFxyXG4vLyB9XHJcbi8vIGNvbnN0IHRlc3QgPSBuZXcgRXZlbnRzPEV2ZW50TWFwPigpXHJcbi8vIGNvbnN0IGxpc3RlbmVyOiBFdmVudExpc3RlbmVyPEV2ZW50TWFwLCAnc29tZXRoaW5nJz4gPSAoYSwgYiwgYykgPT4ge1xyXG4vLyAgIGNvbnNvbGUubG9nKGEsIGIuY29sb3JzLCBjKVxyXG4vLyB9XHJcbi8vIHRlc3Qub24oJ3NvbWV0aGluZycsIGxpc3RlbmVyKVxyXG4vLyBzZXRUaW1lb3V0KCgpID0+IHtcclxuLy8gICB0ZXN0LnJlbW92ZUxpc3RlbmVyKCdzb21ldGhpbmcnLCBsaXN0ZW5lcilcclxuLy8gfSwgNTAwMClcclxuLy8gdGVzdC5vbmNlKCdlcnJvcicsIGVyciA9PiB7XHJcbi8vICAgY29uc29sZS5sb2coJ2Vycm9yOicsIGVycilcclxuLy8gfSlcclxuLy8gY29uc29sZS5sb2codGVzdC5ldmVudE5hbWVzKCkpXHJcbi8vIHRlc3QuZW1pdCgnZXJyb3InLCAnb2snKVxyXG4vLyB0ZXN0LmVtaXQoJ2Vycm9yJywgJ2ZhaWxlZCcpXHJcbi8vIHRlc3QuZW1pdCgnc29tZXRoaW5nJywgMTIzNCwgeyBjb2xvcnM6IFsnYmx1ZSddIH0sIFszLCAzLCAnayddKVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@yandeu/events/cjs/index.js\n");

/***/ }),

/***/ "./node_modules/@yandeu/events/cjs/version.js":
/*!****************************************************!*\
  !*** ./node_modules/@yandeu/events/cjs/version.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.VERSION = void 0;\r\n// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\r\nexports.VERSION = \"0.0.5\";\r\n//# sourceMappingURL=version.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHlhbmRldS9ldmVudHMvY2pzL3ZlcnNpb24uanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJvd3NlcnNlcnZlci8uL25vZGVfbW9kdWxlcy9AeWFuZGV1L2V2ZW50cy9janMvdmVyc2lvbi5qcz8xMzdkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuVkVSU0lPTiA9IHZvaWQgMDtcclxuLy8gVEhJUyBJUyBBTiBBVVRPR0VORVJBVEVEIEZJTEUuIERPIE5PVCBFRElUIFRISVMgRklMRSBESVJFQ1RMWS5cclxuZXhwb3J0cy5WRVJTSU9OID0gXCIwLjAuNVwiO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZXJzaW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@yandeu/events/cjs/version.js\n");

/***/ }),

/***/ "./client/client.js":
/*!**************************!*\
  !*** ./client/client.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _geckos_io_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @geckos.io/client */ \"./node_modules/@geckos.io/client/lib/index.js\");\n\n\n// or add a minified version to your index.html file\n// https://github.com/geckosio/geckos.io/tree/master/bundles\n\nconst channel = (0,_geckos_io_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({ port: 3000 }) // default port is 9208\n\nchannel.onConnect(error => {\n  if (error) {\n    console.error(error.message)\n    return\n  }\n\n  channel.on('chat message', data => {\n    console.log(`You got the message ${data}`)\n  })\n\n  channel.emit('chat message', 'a short message sent to the server')\n})\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jbGllbnQvY2xpZW50LmpzLmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icm93c2Vyc2VydmVyLy4vY2xpZW50L2NsaWVudC5qcz8yNWMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBnZWNrb3MgZnJvbSAnQGdlY2tvcy5pby9jbGllbnQnXG5cbi8vIG9yIGFkZCBhIG1pbmlmaWVkIHZlcnNpb24gdG8geW91ciBpbmRleC5odG1sIGZpbGVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9nZWNrb3Npby9nZWNrb3MuaW8vdHJlZS9tYXN0ZXIvYnVuZGxlc1xuXG5jb25zdCBjaGFubmVsID0gZ2Vja29zKHsgcG9ydDogMzAwMCB9KSAvLyBkZWZhdWx0IHBvcnQgaXMgOTIwOFxuXG5jaGFubmVsLm9uQ29ubmVjdChlcnJvciA9PiB7XG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSlcbiAgICByZXR1cm5cbiAgfVxuXG4gIGNoYW5uZWwub24oJ2NoYXQgbWVzc2FnZScsIGRhdGEgPT4ge1xuICAgIGNvbnNvbGUubG9nKGBZb3UgZ290IHRoZSBtZXNzYWdlICR7ZGF0YX1gKVxuICB9KVxuXG4gIGNoYW5uZWwuZW1pdCgnY2hhdCBtZXNzYWdlJywgJ2Egc2hvcnQgbWVzc2FnZSBzZW50IHRvIHRoZSBzZXJ2ZXInKVxufSlcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./client/client.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/client/lib/geckos/channel.js":
/*!**************************************************************!*\
  !*** ./node_modules/@geckos.io/client/lib/geckos/channel.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ClientChannel\": () => (/* binding */ ClientChannel),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _wrtc_connectionsManager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../wrtc/connectionsManager.js */ \"./node_modules/@geckos.io/client/lib/wrtc/connectionsManager.js\");\n/* harmony import */ var _geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @geckos.io/common/lib/constants.js */ \"./node_modules/@geckos.io/common/lib/constants.js\");\n/* harmony import */ var _wrtc_peerConnection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../wrtc/peerConnection.js */ \"./node_modules/@geckos.io/client/lib/wrtc/peerConnection.js\");\n/* harmony import */ var _geckos_io_common_lib_reliableMessage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @geckos.io/common/lib/reliableMessage.js */ \"./node_modules/@geckos.io/common/lib/reliableMessage.js\");\n\r\n\r\n\r\n\r\nclass ClientChannel {\r\n    constructor(url, authorization, port, label, rtcConfiguration // eslint-disable-line no-undef\r\n    ) {\r\n        this.userData = {};\r\n        // stores all reliable messages for about 15 seconds\r\n        this.receivedReliableMessages = [];\r\n        this.url = port ? `${url}:${port}` : url;\r\n        this.connectionsManager = new _wrtc_connectionsManager_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.url, authorization, label, rtcConfiguration);\r\n        this.bridge = this.connectionsManager.bridge;\r\n        // remove all event listeners on disconnect\r\n        this.bridge.on(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.DISCONNECTED, () => this.bridge.removeAllListeners());\r\n    }\r\n    onconnectionstatechange() {\r\n        const lpc = this.peerConnection.localPeerConnection;\r\n        lpc.onconnectionstatechange = () => {\r\n            if (lpc.connectionState === 'disconnected' || lpc.connectionState === 'closed')\r\n                this.bridge.emit(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.DISCONNECTED);\r\n        };\r\n    }\r\n    /** Get the channel's id. */\r\n    get id() {\r\n        return this.peerConnection.id;\r\n    }\r\n    /** Close the WebRTC connection */\r\n    close() {\r\n        this.peerConnection.localPeerConnection.close();\r\n        // fire the DISCONNECTED event manually\r\n        this.bridge.emit(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.DISCONNECTED);\r\n        try {\r\n            const host = `${this.url}/.wrtc/v2`;\r\n            fetch(`${host}/connections/${this.id}/close`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            });\r\n        }\r\n        catch (error) {\r\n            console.error(error.message);\r\n        }\r\n    }\r\n    /** Emit a message to the server. */\r\n    emit(eventName, data = null, options) {\r\n        if (options && options.reliable) {\r\n            (0,_geckos_io_common_lib_reliableMessage_js__WEBPACK_IMPORTED_MODULE_3__.makeReliable)(options, (id) => this.connectionsManager.emit(eventName, {\r\n                MESSAGE: data,\r\n                RELIABLE: 1,\r\n                ID: id\r\n            }));\r\n        }\r\n        else {\r\n            this.connectionsManager.emit(eventName, data);\r\n        }\r\n    }\r\n    /** Emit a raw message to the server */\r\n    get raw() {\r\n        return {\r\n            /**\r\n             * Emit a raw message.\r\n             * @param rawMessage The raw message. Can be of type 'USVString | ArrayBuffer | ArrayBufferView'\r\n             */\r\n            emit: (rawMessage) => this.emit(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.RAW_MESSAGE, rawMessage)\r\n        };\r\n    }\r\n    /**\r\n     * Listen for a raw message from the server.\r\n     * @param callback The event callback.\r\n     */\r\n    onRaw(callback) {\r\n        this.bridge.on(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.RAW_MESSAGE, (rawMessage) => {\r\n            const cb = (rawMessage) => callback(rawMessage);\r\n            cb(rawMessage);\r\n        });\r\n    }\r\n    /**\r\n     * Listen for the connect event.\r\n     * @param callback The event callback.\r\n     */\r\n    async onConnect(callback) {\r\n        var _a;\r\n        this.peerConnection = new _wrtc_peerConnection_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n        const response = await this.peerConnection.connect(this.connectionsManager);\r\n        if (response.error)\r\n            callback(response.error);\r\n        else {\r\n            // set the userData\r\n            if (response.userData)\r\n                this.userData = response.userData;\r\n            // keep track of the maxMessageSize\r\n            this.maxMessageSize = this.connectionsManager.maxMessageSize = (_a = this.peerConnection.localPeerConnection.sctp) === null || _a === void 0 ? void 0 : _a.maxMessageSize;\r\n            // init onConnectionStateChange event\r\n            this.onconnectionstatechange();\r\n            // we are now ready\r\n            callback();\r\n        }\r\n    }\r\n    /**\r\n     * Listen for the disconnect event.\r\n     * @param callback The event callback.\r\n     */\r\n    onDisconnect(callback) {\r\n        this.bridge.on(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.DISCONNECTED, callback);\r\n    }\r\n    /**\r\n     * Listen for a message from the server.\r\n     * @param eventName The event name.\r\n     * @param callback The event callback.\r\n     */\r\n    on(eventName, callback) {\r\n        this.bridge.on(eventName, (data) => {\r\n            // check if message is reliable\r\n            // and reject it if it has already been submitted\r\n            const isReliableMessage = data && data.RELIABLE === 1 && data.ID !== 'undefined';\r\n            const expireTime = 15000; // 15 seconds\r\n            const deleteExpiredReliableMessages = () => {\r\n                const currentTime = new Date().getTime();\r\n                this.receivedReliableMessages.forEach((msg, index, object) => {\r\n                    if (msg.expire <= currentTime) {\r\n                        object.splice(index, 1);\r\n                    }\r\n                });\r\n            };\r\n            if (isReliableMessage) {\r\n                deleteExpiredReliableMessages();\r\n                if (this.receivedReliableMessages.filter(obj => obj.id === data.ID).length === 0) {\r\n                    this.receivedReliableMessages.push({\r\n                        id: data.ID,\r\n                        timestamp: new Date(),\r\n                        expire: new Date().getTime() + expireTime\r\n                    });\r\n                    callback(data.MESSAGE);\r\n                }\r\n                else {\r\n                    // reject message\r\n                }\r\n            }\r\n            else {\r\n                callback(data);\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * The geckos.io client library.\r\n * @param options.iceServers An array of RTCIceServers. See https://developer.mozilla.org/en-US/docs/Web/API/RTCIceServer.\r\n * @param options.iceTransportPolicy RTCIceTransportPolicy enum defines string constants which can be used to limit the transport policies of the ICE candidates to be considered during the connection process.\r\n * @param options.label The label of the DataChannel. Default: 'geckos.io'.\r\n * @param options.port The port of the server. Default: 9208.\r\n * @param options.url The url of the server. Default: \\`${location.protocol}//${location.hostname}\\`.\r\n */\r\nconst geckosClient = (options = {}) => {\r\n    const { authorization = undefined, iceServers = [], iceTransportPolicy = 'all', label = 'geckos.io', port = 9208, url = `${location.protocol}//${location.hostname}` } = options;\r\n    return new ClientChannel(url, authorization, port, label, { iceServers, iceTransportPolicy });\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (geckosClient);\r\n//# sourceMappingURL=channel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jbGllbnQvbGliL2dlY2tvcy9jaGFubmVsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJvd3NlcnNlcnZlci8uL25vZGVfbW9kdWxlcy9AZ2Vja29zLmlvL2NsaWVudC9saWIvZ2Vja29zL2NoYW5uZWwuanM/NGQzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29ubmVjdGlvbnNNYW5hZ2VyQ2xpZW50IGZyb20gJy4uL3dydGMvY29ubmVjdGlvbnNNYW5hZ2VyLmpzJztcclxuaW1wb3J0IHsgRVZFTlRTIH0gZnJvbSAnQGdlY2tvcy5pby9jb21tb24vbGliL2NvbnN0YW50cy5qcyc7XHJcbmltcG9ydCBQZWVyQ29ubmVjdGlvbiBmcm9tICcuLi93cnRjL3BlZXJDb25uZWN0aW9uLmpzJztcclxuaW1wb3J0IHsgbWFrZVJlbGlhYmxlIH0gZnJvbSAnQGdlY2tvcy5pby9jb21tb24vbGliL3JlbGlhYmxlTWVzc2FnZS5qcyc7XHJcbmV4cG9ydCBjbGFzcyBDbGllbnRDaGFubmVsIHtcclxuICAgIGNvbnN0cnVjdG9yKHVybCwgYXV0aG9yaXphdGlvbiwgcG9ydCwgbGFiZWwsIHJ0Y0NvbmZpZ3VyYXRpb24gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy51c2VyRGF0YSA9IHt9O1xyXG4gICAgICAgIC8vIHN0b3JlcyBhbGwgcmVsaWFibGUgbWVzc2FnZXMgZm9yIGFib3V0IDE1IHNlY29uZHNcclxuICAgICAgICB0aGlzLnJlY2VpdmVkUmVsaWFibGVNZXNzYWdlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMudXJsID0gcG9ydCA/IGAke3VybH06JHtwb3J0fWAgOiB1cmw7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uc01hbmFnZXIgPSBuZXcgQ29ubmVjdGlvbnNNYW5hZ2VyQ2xpZW50KHRoaXMudXJsLCBhdXRob3JpemF0aW9uLCBsYWJlbCwgcnRjQ29uZmlndXJhdGlvbik7XHJcbiAgICAgICAgdGhpcy5icmlkZ2UgPSB0aGlzLmNvbm5lY3Rpb25zTWFuYWdlci5icmlkZ2U7XHJcbiAgICAgICAgLy8gcmVtb3ZlIGFsbCBldmVudCBsaXN0ZW5lcnMgb24gZGlzY29ubmVjdFxyXG4gICAgICAgIHRoaXMuYnJpZGdlLm9uKEVWRU5UUy5ESVNDT05ORUNURUQsICgpID0+IHRoaXMuYnJpZGdlLnJlbW92ZUFsbExpc3RlbmVycygpKTtcclxuICAgIH1cclxuICAgIG9uY29ubmVjdGlvbnN0YXRlY2hhbmdlKCkge1xyXG4gICAgICAgIGNvbnN0IGxwYyA9IHRoaXMucGVlckNvbm5lY3Rpb24ubG9jYWxQZWVyQ29ubmVjdGlvbjtcclxuICAgICAgICBscGMub25jb25uZWN0aW9uc3RhdGVjaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChscGMuY29ubmVjdGlvblN0YXRlID09PSAnZGlzY29ubmVjdGVkJyB8fCBscGMuY29ubmVjdGlvblN0YXRlID09PSAnY2xvc2VkJylcclxuICAgICAgICAgICAgICAgIHRoaXMuYnJpZGdlLmVtaXQoRVZFTlRTLkRJU0NPTk5FQ1RFRCk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKiBHZXQgdGhlIGNoYW5uZWwncyBpZC4gKi9cclxuICAgIGdldCBpZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5pZDtcclxuICAgIH1cclxuICAgIC8qKiBDbG9zZSB0aGUgV2ViUlRDIGNvbm5lY3Rpb24gKi9cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMucGVlckNvbm5lY3Rpb24ubG9jYWxQZWVyQ29ubmVjdGlvbi5jbG9zZSgpO1xyXG4gICAgICAgIC8vIGZpcmUgdGhlIERJU0NPTk5FQ1RFRCBldmVudCBtYW51YWxseVxyXG4gICAgICAgIHRoaXMuYnJpZGdlLmVtaXQoRVZFTlRTLkRJU0NPTk5FQ1RFRCk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgaG9zdCA9IGAke3RoaXMudXJsfS8ud3J0Yy92MmA7XHJcbiAgICAgICAgICAgIGZldGNoKGAke2hvc3R9L2Nvbm5lY3Rpb25zLyR7dGhpcy5pZH0vY2xvc2VgLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKiogRW1pdCBhIG1lc3NhZ2UgdG8gdGhlIHNlcnZlci4gKi9cclxuICAgIGVtaXQoZXZlbnROYW1lLCBkYXRhID0gbnVsbCwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmVsaWFibGUpIHtcclxuICAgICAgICAgICAgbWFrZVJlbGlhYmxlKG9wdGlvbnMsIChpZCkgPT4gdGhpcy5jb25uZWN0aW9uc01hbmFnZXIuZW1pdChldmVudE5hbWUsIHtcclxuICAgICAgICAgICAgICAgIE1FU1NBR0U6IGRhdGEsXHJcbiAgICAgICAgICAgICAgICBSRUxJQUJMRTogMSxcclxuICAgICAgICAgICAgICAgIElEOiBpZFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25zTWFuYWdlci5lbWl0KGV2ZW50TmFtZSwgZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqIEVtaXQgYSByYXcgbWVzc2FnZSB0byB0aGUgc2VydmVyICovXHJcbiAgICBnZXQgcmF3KCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBFbWl0IGEgcmF3IG1lc3NhZ2UuXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSByYXdNZXNzYWdlIFRoZSByYXcgbWVzc2FnZS4gQ2FuIGJlIG9mIHR5cGUgJ1VTVlN0cmluZyB8IEFycmF5QnVmZmVyIHwgQXJyYXlCdWZmZXJWaWV3J1xyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZW1pdDogKHJhd01lc3NhZ2UpID0+IHRoaXMuZW1pdChFVkVOVFMuUkFXX01FU1NBR0UsIHJhd01lc3NhZ2UpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTGlzdGVuIGZvciBhIHJhdyBtZXNzYWdlIGZyb20gdGhlIHNlcnZlci5cclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgZXZlbnQgY2FsbGJhY2suXHJcbiAgICAgKi9cclxuICAgIG9uUmF3KGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5icmlkZ2Uub24oRVZFTlRTLlJBV19NRVNTQUdFLCAocmF3TWVzc2FnZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjYiA9IChyYXdNZXNzYWdlKSA9PiBjYWxsYmFjayhyYXdNZXNzYWdlKTtcclxuICAgICAgICAgICAgY2IocmF3TWVzc2FnZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExpc3RlbiBmb3IgdGhlIGNvbm5lY3QgZXZlbnQuXHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGV2ZW50IGNhbGxiYWNrLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBvbkNvbm5lY3QoY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgdGhpcy5wZWVyQ29ubmVjdGlvbiA9IG5ldyBQZWVyQ29ubmVjdGlvbigpO1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0KHRoaXMuY29ubmVjdGlvbnNNYW5hZ2VyKTtcclxuICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpXHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlLmVycm9yKTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gc2V0IHRoZSB1c2VyRGF0YVxyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UudXNlckRhdGEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVzZXJEYXRhID0gcmVzcG9uc2UudXNlckRhdGE7XHJcbiAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIG1heE1lc3NhZ2VTaXplXHJcbiAgICAgICAgICAgIHRoaXMubWF4TWVzc2FnZVNpemUgPSB0aGlzLmNvbm5lY3Rpb25zTWFuYWdlci5tYXhNZXNzYWdlU2l6ZSA9IChfYSA9IHRoaXMucGVlckNvbm5lY3Rpb24ubG9jYWxQZWVyQ29ubmVjdGlvbi5zY3RwKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWF4TWVzc2FnZVNpemU7XHJcbiAgICAgICAgICAgIC8vIGluaXQgb25Db25uZWN0aW9uU3RhdGVDaGFuZ2UgZXZlbnRcclxuICAgICAgICAgICAgdGhpcy5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSgpO1xyXG4gICAgICAgICAgICAvLyB3ZSBhcmUgbm93IHJlYWR5XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gZm9yIHRoZSBkaXNjb25uZWN0IGV2ZW50LlxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBldmVudCBjYWxsYmFjay5cclxuICAgICAqL1xyXG4gICAgb25EaXNjb25uZWN0KGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5icmlkZ2Uub24oRVZFTlRTLkRJU0NPTk5FQ1RFRCwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMaXN0ZW4gZm9yIGEgbWVzc2FnZSBmcm9tIHRoZSBzZXJ2ZXIuXHJcbiAgICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBldmVudCBuYW1lLlxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBldmVudCBjYWxsYmFjay5cclxuICAgICAqL1xyXG4gICAgb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMuYnJpZGdlLm9uKGV2ZW50TmFtZSwgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgbWVzc2FnZSBpcyByZWxpYWJsZVxyXG4gICAgICAgICAgICAvLyBhbmQgcmVqZWN0IGl0IGlmIGl0IGhhcyBhbHJlYWR5IGJlZW4gc3VibWl0dGVkXHJcbiAgICAgICAgICAgIGNvbnN0IGlzUmVsaWFibGVNZXNzYWdlID0gZGF0YSAmJiBkYXRhLlJFTElBQkxFID09PSAxICYmIGRhdGEuSUQgIT09ICd1bmRlZmluZWQnO1xyXG4gICAgICAgICAgICBjb25zdCBleHBpcmVUaW1lID0gMTUwMDA7IC8vIDE1IHNlY29uZHNcclxuICAgICAgICAgICAgY29uc3QgZGVsZXRlRXhwaXJlZFJlbGlhYmxlTWVzc2FnZXMgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWNlaXZlZFJlbGlhYmxlTWVzc2FnZXMuZm9yRWFjaCgobXNnLCBpbmRleCwgb2JqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5leHBpcmUgPD0gY3VycmVudFRpbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChpc1JlbGlhYmxlTWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlRXhwaXJlZFJlbGlhYmxlTWVzc2FnZXMoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlY2VpdmVkUmVsaWFibGVNZXNzYWdlcy5maWx0ZXIob2JqID0+IG9iai5pZCA9PT0gZGF0YS5JRCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNlaXZlZFJlbGlhYmxlTWVzc2FnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkYXRhLklELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZTogbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBleHBpcmVUaW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZGF0YS5NRVNTQUdFKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlamVjdCBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBUaGUgZ2Vja29zLmlvIGNsaWVudCBsaWJyYXJ5LlxyXG4gKiBAcGFyYW0gb3B0aW9ucy5pY2VTZXJ2ZXJzIEFuIGFycmF5IG9mIFJUQ0ljZVNlcnZlcnMuIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUlRDSWNlU2VydmVyLlxyXG4gKiBAcGFyYW0gb3B0aW9ucy5pY2VUcmFuc3BvcnRQb2xpY3kgUlRDSWNlVHJhbnNwb3J0UG9saWN5IGVudW0gZGVmaW5lcyBzdHJpbmcgY29uc3RhbnRzIHdoaWNoIGNhbiBiZSB1c2VkIHRvIGxpbWl0IHRoZSB0cmFuc3BvcnQgcG9saWNpZXMgb2YgdGhlIElDRSBjYW5kaWRhdGVzIHRvIGJlIGNvbnNpZGVyZWQgZHVyaW5nIHRoZSBjb25uZWN0aW9uIHByb2Nlc3MuXHJcbiAqIEBwYXJhbSBvcHRpb25zLmxhYmVsIFRoZSBsYWJlbCBvZiB0aGUgRGF0YUNoYW5uZWwuIERlZmF1bHQ6ICdnZWNrb3MuaW8nLlxyXG4gKiBAcGFyYW0gb3B0aW9ucy5wb3J0IFRoZSBwb3J0IG9mIHRoZSBzZXJ2ZXIuIERlZmF1bHQ6IDkyMDguXHJcbiAqIEBwYXJhbSBvcHRpb25zLnVybCBUaGUgdXJsIG9mIHRoZSBzZXJ2ZXIuIERlZmF1bHQ6IFxcYCR7bG9jYXRpb24ucHJvdG9jb2x9Ly8ke2xvY2F0aW9uLmhvc3RuYW1lfVxcYC5cclxuICovXHJcbmNvbnN0IGdlY2tvc0NsaWVudCA9IChvcHRpb25zID0ge30pID0+IHtcclxuICAgIGNvbnN0IHsgYXV0aG9yaXphdGlvbiA9IHVuZGVmaW5lZCwgaWNlU2VydmVycyA9IFtdLCBpY2VUcmFuc3BvcnRQb2xpY3kgPSAnYWxsJywgbGFiZWwgPSAnZ2Vja29zLmlvJywgcG9ydCA9IDkyMDgsIHVybCA9IGAke2xvY2F0aW9uLnByb3RvY29sfS8vJHtsb2NhdGlvbi5ob3N0bmFtZX1gIH0gPSBvcHRpb25zO1xyXG4gICAgcmV0dXJuIG5ldyBDbGllbnRDaGFubmVsKHVybCwgYXV0aG9yaXphdGlvbiwgcG9ydCwgbGFiZWwsIHsgaWNlU2VydmVycywgaWNlVHJhbnNwb3J0UG9saWN5IH0pO1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBnZWNrb3NDbGllbnQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYW5uZWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/client/lib/geckos/channel.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/client/lib/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/@geckos.io/client/lib/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"geckos\": () => (/* reexport safe */ _geckos_channel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _geckos_channel_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./geckos/channel.js */ \"./node_modules/@geckos.io/client/lib/geckos/channel.js\");\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_geckos_channel_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\r\n\r\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jbGllbnQvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJvd3NlcnNlcnZlci8uL25vZGVfbW9kdWxlcy9AZ2Vja29zLmlvL2NsaWVudC9saWIvaW5kZXguanM/ZTc1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY2xpZW50LCB7IENsaWVudENoYW5uZWwgfSBmcm9tICcuL2dlY2tvcy9jaGFubmVsLmpzJztcclxuZXhwb3J0IGRlZmF1bHQgY2xpZW50O1xyXG5leHBvcnQgeyBjbGllbnQgYXMgZ2Vja29zIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/client/lib/index.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/client/lib/wrtc/connectionsManager.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@geckos.io/client/lib/wrtc/connectionsManager.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ConnectionsManagerClient)\n/* harmony export */ });\n/* harmony import */ var _geckos_io_common_lib_bridge_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @geckos.io/common/lib/bridge.js */ \"./node_modules/@geckos.io/common/lib/bridge.js\");\n/* harmony import */ var _geckos_io_common_lib_parseMessage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @geckos.io/common/lib/parseMessage.js */ \"./node_modules/@geckos.io/common/lib/parseMessage.js\");\n/* harmony import */ var _geckos_io_common_lib_sendMessage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @geckos.io/common/lib/sendMessage.js */ \"./node_modules/@geckos.io/common/lib/sendMessage.js\");\n\r\n\r\n\r\nclass ConnectionsManagerClient {\r\n    constructor(url, authorization, label, rtcConfiguration // eslint-disable-line no-undef\r\n    ) {\r\n        this.url = url;\r\n        this.authorization = authorization;\r\n        this.label = label;\r\n        this.rtcConfiguration = rtcConfiguration;\r\n        this.bridge = new _geckos_io_common_lib_bridge_js__WEBPACK_IMPORTED_MODULE_0__.Bridge();\r\n        this.onDataChannel = (ev) => {\r\n            const { channel } = ev;\r\n            if (channel.label !== this.label)\r\n                return;\r\n            this.dataChannel = channel;\r\n            // set default binaryType to arraybuffer\r\n            // https://github.com/node-webrtc/node-webrtc/issues/441\r\n            this.dataChannel.binaryType = 'arraybuffer';\r\n            this.dataChannel.onmessage = (ev) => {\r\n                const { key, data } = (0,_geckos_io_common_lib_parseMessage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(ev);\r\n                this.bridge.emit(key, data);\r\n            };\r\n        };\r\n    }\r\n    emit(eventName, data = null) {\r\n        (0,_geckos_io_common_lib_sendMessage_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this.dataChannel, this.maxMessageSize, eventName, data);\r\n    }\r\n    // fetch additional candidates\r\n    async fetchAdditionalCandidates(host, id) {\r\n        var _a;\r\n        if (((_a = this.dataChannel) === null || _a === void 0 ? void 0 : _a.readyState) === 'closed')\r\n            return;\r\n        const res = await fetch(`${host}/connections/${id}/additional-candidates`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n        if (res.ok) {\r\n            const candidates = await res.json();\r\n            // eslint-disable-next-line no-undef\r\n            candidates.forEach((c) => {\r\n                // eslint-disable-line no-undef\r\n                this.localPeerConnection.addIceCandidate(c);\r\n            });\r\n        }\r\n    }\r\n    async connect() {\r\n        const host = `${this.url}/.wrtc/v2`;\r\n        let headers = { 'Content-Type': 'application/json' };\r\n        if (this.authorization)\r\n            headers = { ...headers, ['Authorization']: this.authorization };\r\n        let userData = {};\r\n        try {\r\n            const res = await fetch(`${host}/connections`, {\r\n                method: 'POST',\r\n                headers\r\n            });\r\n            if (res.status >= 300) {\r\n                throw {\r\n                    name: 'Error',\r\n                    message: `Connection failed with status code ${res.status}.`,\r\n                    status: res.status,\r\n                    statusText: res.statusText\r\n                };\r\n            }\r\n            const json = await res.json();\r\n            userData = json.userData;\r\n            this.remotePeerConnection = json;\r\n        }\r\n        catch (error) {\r\n            console.error(error.message);\r\n            return { error };\r\n        }\r\n        const { id, localDescription } = this.remotePeerConnection;\r\n        /**\r\n         * testing\r\n         */\r\n        // console.log(localDescription.sdp?.split('\\n'))\r\n        // remove all host type candidates (for testing)\r\n        // let removedHostCandidates: any[] = []\r\n        // localDescription.sdp = localDescription.sdp\r\n        //   ?.split('\\n')\r\n        //   .filter(line => {\r\n        //     if (/typ host/.test(line)) {\r\n        //       console.log('removing', line)\r\n        //       removedHostCandidates.push(line.replace('a=', '').trim())\r\n        //     }\r\n        //     return !/typ host/.test(line)\r\n        //   })\r\n        //   .join('\\n')\r\n        // console.log(localDescription.sdp)\r\n        // add all (host) candidates manually\r\n        // setTimeout(() => {\r\n        //   removedHostCandidates.forEach(candidate => {\r\n        //     console.log('try to add candidate: ', candidate)\r\n        //     this.localPeerConnection.addIceCandidate({ candidate, sdpMid: '0', sdpMLineIndex: 0 })\r\n        //   })\r\n        // }, 2000)\r\n        // eslint-disable-next-line no-undef\r\n        const configuration = {\r\n            // @ts-ignore\r\n            sdpSemantics: 'unified-plan',\r\n            ...this.rtcConfiguration\r\n        };\r\n        // @ts-ignore\r\n        const RTCPc = RTCPeerConnection || webkitRTCPeerConnection; // eslint-disable-line no-undef\r\n        // create rtc peer connection\r\n        this.localPeerConnection = new RTCPc(configuration);\r\n        // get additional ice candidates\r\n        // we do still continue to gather candidates even if the connection is established,\r\n        // maybe we get a better connection.\r\n        // So the server is still gathering candidates and we ask for them frequently.\r\n        const showBackOffIntervals = (attempts = 10, initial = 50, factor = 1.8, jitter = 20) => Array(attempts)\r\n            .fill(0)\r\n            .map((_, index) => parseInt((initial * factor ** index).toString()) + parseInt((Math.random() * jitter).toString()));\r\n        showBackOffIntervals().forEach(ms => {\r\n            setTimeout(() => {\r\n                this.fetchAdditionalCandidates(host, id).catch(() => { });\r\n            }, ms);\r\n        });\r\n        try {\r\n            await this.localPeerConnection.setRemoteDescription(localDescription);\r\n            this.localPeerConnection.addEventListener('datachannel', this.onDataChannel, { once: true });\r\n            const originalAnswer = await this.localPeerConnection.createAnswer();\r\n            const updatedAnswer = new RTCSessionDescription({\r\n                type: 'answer',\r\n                sdp: originalAnswer.sdp\r\n            });\r\n            await this.localPeerConnection.setLocalDescription(updatedAnswer);\r\n            try {\r\n                await fetch(`${host}/connections/${id}/remote-description`, {\r\n                    method: 'POST',\r\n                    body: JSON.stringify(this.localPeerConnection.localDescription),\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    }\r\n                });\r\n            }\r\n            catch (error) {\r\n                console.error(error.message);\r\n                return { error };\r\n            }\r\n            const waitForDataChannel = () => {\r\n                return new Promise(resolve => {\r\n                    this.localPeerConnection.addEventListener('datachannel', () => {\r\n                        resolve();\r\n                    }, { once: true });\r\n                });\r\n            };\r\n            if (!this.dataChannel)\r\n                await waitForDataChannel();\r\n            return {\r\n                userData,\r\n                localPeerConnection: this.localPeerConnection,\r\n                dataChannel: this.dataChannel,\r\n                id: id\r\n            };\r\n        }\r\n        catch (error) {\r\n            console.error(error.message);\r\n            this.localPeerConnection.close();\r\n            return { error };\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=connectionsManager.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jbGllbnQvbGliL3dydGMvY29ubmVjdGlvbnNNYW5hZ2VyLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icm93c2Vyc2VydmVyLy4vbm9kZV9tb2R1bGVzL0BnZWNrb3MuaW8vY2xpZW50L2xpYi93cnRjL2Nvbm5lY3Rpb25zTWFuYWdlci5qcz8yZWM4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJyaWRnZSB9IGZyb20gJ0BnZWNrb3MuaW8vY29tbW9uL2xpYi9icmlkZ2UuanMnO1xyXG5pbXBvcnQgUGFyc2VNZXNzYWdlIGZyb20gJ0BnZWNrb3MuaW8vY29tbW9uL2xpYi9wYXJzZU1lc3NhZ2UuanMnO1xyXG5pbXBvcnQgU2VuZE1lc3NhZ2UgZnJvbSAnQGdlY2tvcy5pby9jb21tb24vbGliL3NlbmRNZXNzYWdlLmpzJztcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29ubmVjdGlvbnNNYW5hZ2VyQ2xpZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHVybCwgYXV0aG9yaXphdGlvbiwgbGFiZWwsIHJ0Y0NvbmZpZ3VyYXRpb24gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxyXG4gICAgKSB7XHJcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XHJcbiAgICAgICAgdGhpcy5hdXRob3JpemF0aW9uID0gYXV0aG9yaXphdGlvbjtcclxuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XHJcbiAgICAgICAgdGhpcy5ydGNDb25maWd1cmF0aW9uID0gcnRjQ29uZmlndXJhdGlvbjtcclxuICAgICAgICB0aGlzLmJyaWRnZSA9IG5ldyBCcmlkZ2UoKTtcclxuICAgICAgICB0aGlzLm9uRGF0YUNoYW5uZWwgPSAoZXYpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgeyBjaGFubmVsIH0gPSBldjtcclxuICAgICAgICAgICAgaWYgKGNoYW5uZWwubGFiZWwgIT09IHRoaXMubGFiZWwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWwgPSBjaGFubmVsO1xyXG4gICAgICAgICAgICAvLyBzZXQgZGVmYXVsdCBiaW5hcnlUeXBlIHRvIGFycmF5YnVmZmVyXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlLXdlYnJ0Yy9ub2RlLXdlYnJ0Yy9pc3N1ZXMvNDQxXHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWwuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5uZWwub25tZXNzYWdlID0gKGV2KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGtleSwgZGF0YSB9ID0gUGFyc2VNZXNzYWdlKGV2KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnJpZGdlLmVtaXQoa2V5LCBkYXRhKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZW1pdChldmVudE5hbWUsIGRhdGEgPSBudWxsKSB7XHJcbiAgICAgICAgU2VuZE1lc3NhZ2UodGhpcy5kYXRhQ2hhbm5lbCwgdGhpcy5tYXhNZXNzYWdlU2l6ZSwgZXZlbnROYW1lLCBkYXRhKTtcclxuICAgIH1cclxuICAgIC8vIGZldGNoIGFkZGl0aW9uYWwgY2FuZGlkYXRlc1xyXG4gICAgYXN5bmMgZmV0Y2hBZGRpdGlvbmFsQ2FuZGlkYXRlcyhob3N0LCBpZCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBpZiAoKChfYSA9IHRoaXMuZGF0YUNoYW5uZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZWFkeVN0YXRlKSA9PT0gJ2Nsb3NlZCcpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtob3N0fS9jb25uZWN0aW9ucy8ke2lkfS9hZGRpdGlvbmFsLWNhbmRpZGF0ZXNgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgY29uc3QgY2FuZGlkYXRlcyA9IGF3YWl0IHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgICAgICBjYW5kaWRhdGVzLmZvckVhY2goKGMpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcclxuICAgICAgICAgICAgICAgIHRoaXMubG9jYWxQZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoYyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFzeW5jIGNvbm5lY3QoKSB7XHJcbiAgICAgICAgY29uc3QgaG9zdCA9IGAke3RoaXMudXJsfS8ud3J0Yy92MmA7XHJcbiAgICAgICAgbGV0IGhlYWRlcnMgPSB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfTtcclxuICAgICAgICBpZiAodGhpcy5hdXRob3JpemF0aW9uKVxyXG4gICAgICAgICAgICBoZWFkZXJzID0geyAuLi5oZWFkZXJzLCBbJ0F1dGhvcml6YXRpb24nXTogdGhpcy5hdXRob3JpemF0aW9uIH07XHJcbiAgICAgICAgbGV0IHVzZXJEYXRhID0ge307XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7aG9zdH0vY29ubmVjdGlvbnNgLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID49IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdFcnJvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYENvbm5lY3Rpb24gZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJHtyZXMuc3RhdHVzfS5gLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzLnN0YXR1cyxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiByZXMuc3RhdHVzVGV4dFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgdXNlckRhdGEgPSBqc29uLnVzZXJEYXRhO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVBlZXJDb25uZWN0aW9uID0ganNvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGVycm9yIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgaWQsIGxvY2FsRGVzY3JpcHRpb24gfSA9IHRoaXMucmVtb3RlUGVlckNvbm5lY3Rpb247XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogdGVzdGluZ1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGxvY2FsRGVzY3JpcHRpb24uc2RwPy5zcGxpdCgnXFxuJykpXHJcbiAgICAgICAgLy8gcmVtb3ZlIGFsbCBob3N0IHR5cGUgY2FuZGlkYXRlcyAoZm9yIHRlc3RpbmcpXHJcbiAgICAgICAgLy8gbGV0IHJlbW92ZWRIb3N0Q2FuZGlkYXRlczogYW55W10gPSBbXVxyXG4gICAgICAgIC8vIGxvY2FsRGVzY3JpcHRpb24uc2RwID0gbG9jYWxEZXNjcmlwdGlvbi5zZHBcclxuICAgICAgICAvLyAgID8uc3BsaXQoJ1xcbicpXHJcbiAgICAgICAgLy8gICAuZmlsdGVyKGxpbmUgPT4ge1xyXG4gICAgICAgIC8vICAgICBpZiAoL3R5cCBob3N0Ly50ZXN0KGxpbmUpKSB7XHJcbiAgICAgICAgLy8gICAgICAgY29uc29sZS5sb2coJ3JlbW92aW5nJywgbGluZSlcclxuICAgICAgICAvLyAgICAgICByZW1vdmVkSG9zdENhbmRpZGF0ZXMucHVzaChsaW5lLnJlcGxhY2UoJ2E9JywgJycpLnRyaW0oKSlcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICByZXR1cm4gIS90eXAgaG9zdC8udGVzdChsaW5lKVxyXG4gICAgICAgIC8vICAgfSlcclxuICAgICAgICAvLyAgIC5qb2luKCdcXG4nKVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGxvY2FsRGVzY3JpcHRpb24uc2RwKVxyXG4gICAgICAgIC8vIGFkZCBhbGwgKGhvc3QpIGNhbmRpZGF0ZXMgbWFudWFsbHlcclxuICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAvLyAgIHJlbW92ZWRIb3N0Q2FuZGlkYXRlcy5mb3JFYWNoKGNhbmRpZGF0ZSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCd0cnkgdG8gYWRkIGNhbmRpZGF0ZTogJywgY2FuZGlkYXRlKVxyXG4gICAgICAgIC8vICAgICB0aGlzLmxvY2FsUGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKHsgY2FuZGlkYXRlLCBzZHBNaWQ6ICcwJywgc2RwTUxpbmVJbmRleDogMCB9KVxyXG4gICAgICAgIC8vICAgfSlcclxuICAgICAgICAvLyB9LCAyMDAwKVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxyXG4gICAgICAgIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSB7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgc2RwU2VtYW50aWNzOiAndW5pZmllZC1wbGFuJyxcclxuICAgICAgICAgICAgLi4udGhpcy5ydGNDb25maWd1cmF0aW9uXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBAdHMtaWdub3JlXHJcbiAgICAgICAgY29uc3QgUlRDUGMgPSBSVENQZWVyQ29ubmVjdGlvbiB8fCB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxyXG4gICAgICAgIC8vIGNyZWF0ZSBydGMgcGVlciBjb25uZWN0aW9uXHJcbiAgICAgICAgdGhpcy5sb2NhbFBlZXJDb25uZWN0aW9uID0gbmV3IFJUQ1BjKGNvbmZpZ3VyYXRpb24pO1xyXG4gICAgICAgIC8vIGdldCBhZGRpdGlvbmFsIGljZSBjYW5kaWRhdGVzXHJcbiAgICAgICAgLy8gd2UgZG8gc3RpbGwgY29udGludWUgdG8gZ2F0aGVyIGNhbmRpZGF0ZXMgZXZlbiBpZiB0aGUgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZCxcclxuICAgICAgICAvLyBtYXliZSB3ZSBnZXQgYSBiZXR0ZXIgY29ubmVjdGlvbi5cclxuICAgICAgICAvLyBTbyB0aGUgc2VydmVyIGlzIHN0aWxsIGdhdGhlcmluZyBjYW5kaWRhdGVzIGFuZCB3ZSBhc2sgZm9yIHRoZW0gZnJlcXVlbnRseS5cclxuICAgICAgICBjb25zdCBzaG93QmFja09mZkludGVydmFscyA9IChhdHRlbXB0cyA9IDEwLCBpbml0aWFsID0gNTAsIGZhY3RvciA9IDEuOCwgaml0dGVyID0gMjApID0+IEFycmF5KGF0dGVtcHRzKVxyXG4gICAgICAgICAgICAuZmlsbCgwKVxyXG4gICAgICAgICAgICAubWFwKChfLCBpbmRleCkgPT4gcGFyc2VJbnQoKGluaXRpYWwgKiBmYWN0b3IgKiogaW5kZXgpLnRvU3RyaW5nKCkpICsgcGFyc2VJbnQoKE1hdGgucmFuZG9tKCkgKiBqaXR0ZXIpLnRvU3RyaW5nKCkpKTtcclxuICAgICAgICBzaG93QmFja09mZkludGVydmFscygpLmZvckVhY2gobXMgPT4ge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2hBZGRpdGlvbmFsQ2FuZGlkYXRlcyhob3N0LCBpZCkuY2F0Y2goKCkgPT4geyB9KTtcclxuICAgICAgICAgICAgfSwgbXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMubG9jYWxQZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihsb2NhbERlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2RhdGFjaGFubmVsJywgdGhpcy5vbkRhdGFDaGFubmVsLCB7IG9uY2U6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsQW5zd2VyID0gYXdhaXQgdGhpcy5sb2NhbFBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO1xyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkQW5zd2VyID0gbmV3IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbih7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnYW5zd2VyJyxcclxuICAgICAgICAgICAgICAgIHNkcDogb3JpZ2luYWxBbnN3ZXIuc2RwXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmxvY2FsUGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih1cGRhdGVkQW5zd2VyKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGZldGNoKGAke2hvc3R9L2Nvbm5lY3Rpb25zLyR7aWR9L3JlbW90ZS1kZXNjcmlwdGlvbmAsIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0aGlzLmxvY2FsUGVlckNvbm5lY3Rpb24ubG9jYWxEZXNjcmlwdGlvbiksXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB3YWl0Rm9yRGF0YUNoYW5uZWwgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhbFBlZXJDb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2RhdGFjaGFubmVsJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5kYXRhQ2hhbm5lbClcclxuICAgICAgICAgICAgICAgIGF3YWl0IHdhaXRGb3JEYXRhQ2hhbm5lbCgpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdXNlckRhdGEsXHJcbiAgICAgICAgICAgICAgICBsb2NhbFBlZXJDb25uZWN0aW9uOiB0aGlzLmxvY2FsUGVlckNvbm5lY3Rpb24sXHJcbiAgICAgICAgICAgICAgICBkYXRhQ2hhbm5lbDogdGhpcy5kYXRhQ2hhbm5lbCxcclxuICAgICAgICAgICAgICAgIGlkOiBpZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5sb2NhbFBlZXJDb25uZWN0aW9uLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGVycm9yIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbm5lY3Rpb25zTWFuYWdlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/client/lib/wrtc/connectionsManager.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/client/lib/wrtc/peerConnection.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@geckos.io/client/lib/wrtc/peerConnection.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PeerConnection)\n/* harmony export */ });\n/* harmony import */ var _geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @geckos.io/common/lib/constants.js */ \"./node_modules/@geckos.io/common/lib/constants.js\");\n\r\nclass PeerConnection {\r\n    async connect(connectionsManager) {\r\n        // @ts-ignore\r\n        const webRTCPcSupported = RTCPeerConnection || webkitRTCPeerConnection; // eslint-disable-line no-undef\r\n        if (webRTCPcSupported) {\r\n            const { localPeerConnection, dataChannel, id, userData, error } = await connectionsManager.connect();\r\n            if (error)\r\n                return { error };\r\n            if (!localPeerConnection || !dataChannel || !id || !userData)\r\n                return { error: new Error('Something went wrong in \"await connectionsManager.connect()\"') };\r\n            this.localPeerConnection = localPeerConnection;\r\n            this.dataChannel = dataChannel;\r\n            this.id = id;\r\n            return { userData };\r\n        }\r\n        else {\r\n            const error = new Error(_geckos_io_common_lib_constants_js__WEBPACK_IMPORTED_MODULE_0__.ERRORS.BROWSER_NOT_SUPPORTED);\r\n            console.error(error.message);\r\n            return { error };\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=peerConnection.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jbGllbnQvbGliL3dydGMvcGVlckNvbm5lY3Rpb24uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icm93c2Vyc2VydmVyLy4vbm9kZV9tb2R1bGVzL0BnZWNrb3MuaW8vY2xpZW50L2xpYi93cnRjL3BlZXJDb25uZWN0aW9uLmpzP2I1NDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRVJST1JTIH0gZnJvbSAnQGdlY2tvcy5pby9jb21tb24vbGliL2NvbnN0YW50cy5qcyc7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBlZXJDb25uZWN0aW9uIHtcclxuICAgIGFzeW5jIGNvbm5lY3QoY29ubmVjdGlvbnNNYW5hZ2VyKSB7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGNvbnN0IHdlYlJUQ1BjU3VwcG9ydGVkID0gUlRDUGVlckNvbm5lY3Rpb24gfHwgd2Via2l0UlRDUGVlckNvbm5lY3Rpb247IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcclxuICAgICAgICBpZiAod2ViUlRDUGNTdXBwb3J0ZWQpIHtcclxuICAgICAgICAgICAgY29uc3QgeyBsb2NhbFBlZXJDb25uZWN0aW9uLCBkYXRhQ2hhbm5lbCwgaWQsIHVzZXJEYXRhLCBlcnJvciB9ID0gYXdhaXQgY29ubmVjdGlvbnNNYW5hZ2VyLmNvbm5lY3QoKTtcclxuICAgICAgICAgICAgaWYgKGVycm9yKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3IgfTtcclxuICAgICAgICAgICAgaWYgKCFsb2NhbFBlZXJDb25uZWN0aW9uIHx8ICFkYXRhQ2hhbm5lbCB8fCAhaWQgfHwgIXVzZXJEYXRhKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6IG5ldyBFcnJvcignU29tZXRoaW5nIHdlbnQgd3JvbmcgaW4gXCJhd2FpdCBjb25uZWN0aW9uc01hbmFnZXIuY29ubmVjdCgpXCInKSB9O1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsUGVlckNvbm5lY3Rpb24gPSBsb2NhbFBlZXJDb25uZWN0aW9uO1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsID0gZGF0YUNoYW5uZWw7XHJcbiAgICAgICAgICAgIHRoaXMuaWQgPSBpZDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdXNlckRhdGEgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKEVSUk9SUy5CUk9XU0VSX05PVF9TVVBQT1JURUQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICByZXR1cm4geyBlcnJvciB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wZWVyQ29ubmVjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/client/lib/wrtc/peerConnection.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/bridge.js":
/*!******************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/bridge.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Bridge\": () => (/* binding */ Bridge),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _yandeu_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @yandeu/events */ \"./node_modules/@yandeu/events/cjs/index.js\");\n\r\nclass Bridge {\r\n    constructor() {\r\n        this.eventEmitter = new _yandeu_events__WEBPACK_IMPORTED_MODULE_0__.Events();\r\n    }\r\n    emit(eventName, data, connection = {}) {\r\n        this.eventEmitter.emit(eventName, data, connection);\r\n    }\r\n    on(eventName, cb) {\r\n        return this.eventEmitter.on(eventName, (data, options) => {\r\n            cb(data, options);\r\n        });\r\n    }\r\n    removeAllListeners() {\r\n        this.eventEmitter.removeAllListeners();\r\n    }\r\n}\r\nconst bridge = new Bridge();\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (bridge);\r\n//# sourceMappingURL=bridge.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL2JyaWRnZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJvd3NlcnNlcnZlci8uL25vZGVfbW9kdWxlcy9AZ2Vja29zLmlvL2NvbW1vbi9saWIvYnJpZGdlLmpzPzEyMGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAnQHlhbmRldS9ldmVudHMnO1xyXG5leHBvcnQgY2xhc3MgQnJpZGdlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50cygpO1xyXG4gICAgfVxyXG4gICAgZW1pdChldmVudE5hbWUsIGRhdGEsIGNvbm5lY3Rpb24gPSB7fSkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoZXZlbnROYW1lLCBkYXRhLCBjb25uZWN0aW9uKTtcclxuICAgIH1cclxuICAgIG9uKGV2ZW50TmFtZSwgY2IpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ldmVudEVtaXR0ZXIub24oZXZlbnROYW1lLCAoZGF0YSwgb3B0aW9ucykgPT4ge1xyXG4gICAgICAgICAgICBjYihkYXRhLCBvcHRpb25zKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJlbW92ZUFsbExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxufVxyXG5jb25zdCBicmlkZ2UgPSBuZXcgQnJpZGdlKCk7XHJcbmV4cG9ydCBkZWZhdWx0IGJyaWRnZTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJpZGdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/bridge.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/constants.js":
/*!*********************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/constants.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ERRORS\": () => (/* binding */ ERRORS),\n/* harmony export */   \"EVENTS\": () => (/* binding */ EVENTS)\n/* harmony export */ });\nconst EVENTS = {\r\n    CONNECT: 'connect',\r\n    CONNECTION: 'connection',\r\n    DATA_CHANNEL_IS_OPEN: 'dataChannelIsOpen',\r\n    DISCONNECT: 'disconnect',\r\n    DISCONNECTED: 'disconnected',\r\n    DROP: 'dropped',\r\n    ERROR: 'error',\r\n    RAW_MESSAGE: 'rawMessage',\r\n    RECEIVED_FROM_DATA_CHANNEL: 'receiveFromDataChannel',\r\n    SEND_OVER_DATA_CHANNEL: 'sendOverDataChannel'\r\n};\r\nconst ERRORS = {\r\n    BROWSER_NOT_SUPPORTED: 'BROWSER_NOT_SUPPORTED',\r\n    COULD_NOT_PARSE_MESSAGE: 'COULD_NOT_PARSE_MESSAGE',\r\n    DROPPED_FROM_BUFFERING: 'DROPPED_FROM_BUFFERING',\r\n    MAX_MESSAGE_SIZE_EXCEEDED: 'MAX_MESSAGE_SIZE_EXCEEDED'\r\n};\r\n\r\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL2NvbnN0YW50cy5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icm93c2Vyc2VydmVyLy4vbm9kZV9tb2R1bGVzL0BnZWNrb3MuaW8vY29tbW9uL2xpYi9jb25zdGFudHMuanM/OTZmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBFVkVOVFMgPSB7XHJcbiAgICBDT05ORUNUOiAnY29ubmVjdCcsXHJcbiAgICBDT05ORUNUSU9OOiAnY29ubmVjdGlvbicsXHJcbiAgICBEQVRBX0NIQU5ORUxfSVNfT1BFTjogJ2RhdGFDaGFubmVsSXNPcGVuJyxcclxuICAgIERJU0NPTk5FQ1Q6ICdkaXNjb25uZWN0JyxcclxuICAgIERJU0NPTk5FQ1RFRDogJ2Rpc2Nvbm5lY3RlZCcsXHJcbiAgICBEUk9QOiAnZHJvcHBlZCcsXHJcbiAgICBFUlJPUjogJ2Vycm9yJyxcclxuICAgIFJBV19NRVNTQUdFOiAncmF3TWVzc2FnZScsXHJcbiAgICBSRUNFSVZFRF9GUk9NX0RBVEFfQ0hBTk5FTDogJ3JlY2VpdmVGcm9tRGF0YUNoYW5uZWwnLFxyXG4gICAgU0VORF9PVkVSX0RBVEFfQ0hBTk5FTDogJ3NlbmRPdmVyRGF0YUNoYW5uZWwnXHJcbn07XHJcbmNvbnN0IEVSUk9SUyA9IHtcclxuICAgIEJST1dTRVJfTk9UX1NVUFBPUlRFRDogJ0JST1dTRVJfTk9UX1NVUFBPUlRFRCcsXHJcbiAgICBDT1VMRF9OT1RfUEFSU0VfTUVTU0FHRTogJ0NPVUxEX05PVF9QQVJTRV9NRVNTQUdFJyxcclxuICAgIERST1BQRURfRlJPTV9CVUZGRVJJTkc6ICdEUk9QUEVEX0ZST01fQlVGRkVSSU5HJyxcclxuICAgIE1BWF9NRVNTQUdFX1NJWkVfRVhDRUVERUQ6ICdNQVhfTUVTU0FHRV9TSVpFX0VYQ0VFREVEJ1xyXG59O1xyXG5leHBvcnQgeyBFVkVOVFMsIEVSUk9SUyB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/constants.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/helpers.js":
/*!*******************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/helpers.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isBufferMessage\": () => (/* binding */ isBufferMessage),\n/* harmony export */   \"isJSONMessage\": () => (/* binding */ isJSONMessage),\n/* harmony export */   \"isStringMessage\": () => (/* binding */ isStringMessage),\n/* harmony export */   \"pause\": () => (/* binding */ pause),\n/* harmony export */   \"promiseWithTimeout\": () => (/* binding */ promiseWithTimeout),\n/* harmony export */   \"task\": () => (/* binding */ task),\n/* harmony export */   \"tick\": () => (/* binding */ tick)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ \"./node_modules/@geckos.io/common/lib/types.js\");\n\r\n// const isRawMessage = (data: Data | RawMessage) => {\r\n//   return typeof data === 'string' || isBufferMessage(data)\r\n// }\r\n// https://dev.to/nikosanif/create-promises-with-timeout-error-in-typescript-fmm\r\n/** create a promise with a timeout */\r\nconst promiseWithTimeout = (promise, ms, timeoutError = new Error('Promise timed out')) => {\r\n    // create a promise that rejects in milliseconds\r\n    const timeout = new Promise((_, reject) => {\r\n        setTimeout(() => {\r\n            reject(timeout);\r\n        }, ms);\r\n    });\r\n    // returns a race between timeout and the passed promise\r\n    return Promise.race([promise, timeout]);\r\n};\r\n/** make a small promise-based pause */\r\nconst pause = (ms = 0) => {\r\n    return new Promise(resolve => {\r\n        setTimeout(() => {\r\n            resolve();\r\n        }, ms);\r\n    });\r\n};\r\n/** creates a new Task using setTimeout() */\r\nconst task = (task) => setTimeout(task, 0);\r\n/** creates a new Microtask using Promise() */\r\nconst tick = typeof Promise == 'function' ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout;\r\nconst isStringMessage = (data) => {\r\n    return typeof data === 'string';\r\n};\r\nconst isBufferMessage = (data) => {\r\n    return data instanceof ArrayBuffer || data instanceof _types_js__WEBPACK_IMPORTED_MODULE_0__.ArrayBufferView;\r\n};\r\nconst isJSONMessage = (data) => {\r\n    try {\r\n        // check if it is a string\r\n        if (typeof data !== 'string')\r\n            return false;\r\n        // check if it is a number as a string\r\n        if (!isNaN(parseInt(data)))\r\n            return false;\r\n        // check if it is a JSON object\r\n        JSON.parse(data);\r\n        return true;\r\n    }\r\n    catch (error) {\r\n        return false;\r\n    }\r\n};\r\n\r\n//# sourceMappingURL=helpers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL2hlbHBlcnMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Jyb3dzZXJzZXJ2ZXIvLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL2hlbHBlcnMuanM/YWJlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcnJheUJ1ZmZlclZpZXcgfSBmcm9tICcuL3R5cGVzLmpzJztcclxuLy8gY29uc3QgaXNSYXdNZXNzYWdlID0gKGRhdGE6IERhdGEgfCBSYXdNZXNzYWdlKSA9PiB7XHJcbi8vICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyB8fCBpc0J1ZmZlck1lc3NhZ2UoZGF0YSlcclxuLy8gfVxyXG4vLyBodHRwczovL2Rldi50by9uaWtvc2FuaWYvY3JlYXRlLXByb21pc2VzLXdpdGgtdGltZW91dC1lcnJvci1pbi10eXBlc2NyaXB0LWZtbVxyXG4vKiogY3JlYXRlIGEgcHJvbWlzZSB3aXRoIGEgdGltZW91dCAqL1xyXG5leHBvcnQgY29uc3QgcHJvbWlzZVdpdGhUaW1lb3V0ID0gKHByb21pc2UsIG1zLCB0aW1lb3V0RXJyb3IgPSBuZXcgRXJyb3IoJ1Byb21pc2UgdGltZWQgb3V0JykpID0+IHtcclxuICAgIC8vIGNyZWF0ZSBhIHByb21pc2UgdGhhdCByZWplY3RzIGluIG1pbGxpc2Vjb25kc1xyXG4gICAgY29uc3QgdGltZW91dCA9IG5ldyBQcm9taXNlKChfLCByZWplY3QpID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgcmVqZWN0KHRpbWVvdXQpO1xyXG4gICAgICAgIH0sIG1zKTtcclxuICAgIH0pO1xyXG4gICAgLy8gcmV0dXJucyBhIHJhY2UgYmV0d2VlbiB0aW1lb3V0IGFuZCB0aGUgcGFzc2VkIHByb21pc2VcclxuICAgIHJldHVybiBQcm9taXNlLnJhY2UoW3Byb21pc2UsIHRpbWVvdXRdKTtcclxufTtcclxuLyoqIG1ha2UgYSBzbWFsbCBwcm9taXNlLWJhc2VkIHBhdXNlICovXHJcbmV4cG9ydCBjb25zdCBwYXVzZSA9IChtcyA9IDApID0+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0sIG1zKTtcclxuICAgIH0pO1xyXG59O1xyXG4vKiogY3JlYXRlcyBhIG5ldyBUYXNrIHVzaW5nIHNldFRpbWVvdXQoKSAqL1xyXG5leHBvcnQgY29uc3QgdGFzayA9ICh0YXNrKSA9PiBzZXRUaW1lb3V0KHRhc2ssIDApO1xyXG4vKiogY3JlYXRlcyBhIG5ldyBNaWNyb3Rhc2sgdXNpbmcgUHJvbWlzZSgpICovXHJcbmV4cG9ydCBjb25zdCB0aWNrID0gdHlwZW9mIFByb21pc2UgPT0gJ2Z1bmN0aW9uJyA/IFByb21pc2UucHJvdG90eXBlLnRoZW4uYmluZChQcm9taXNlLnJlc29sdmUoKSkgOiBzZXRUaW1lb3V0O1xyXG5jb25zdCBpc1N0cmluZ01lc3NhZ2UgPSAoZGF0YSkgPT4ge1xyXG4gICAgcmV0dXJuIHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJztcclxufTtcclxuY29uc3QgaXNCdWZmZXJNZXNzYWdlID0gKGRhdGEpID0+IHtcclxuICAgIHJldHVybiBkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgfHwgZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyVmlldztcclxufTtcclxuY29uc3QgaXNKU09OTWVzc2FnZSA9IChkYXRhKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIGNoZWNrIGlmIGl0IGlzIGEgc3RyaW5nXHJcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhICE9PSAnc3RyaW5nJylcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIC8vIGNoZWNrIGlmIGl0IGlzIGEgbnVtYmVyIGFzIGEgc3RyaW5nXHJcbiAgICAgICAgaWYgKCFpc05hTihwYXJzZUludChkYXRhKSkpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAvLyBjaGVjayBpZiBpdCBpcyBhIEpTT04gb2JqZWN0XHJcbiAgICAgICAgSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufTtcclxuZXhwb3J0IHsgaXNTdHJpbmdNZXNzYWdlLCBpc0J1ZmZlck1lc3NhZ2UsIGlzSlNPTk1lc3NhZ2UgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscGVycy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/helpers.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/makeRandomId.js":
/*!************************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/makeRandomId.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst makeRandomId = (length = 24) => {\r\n    const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    let id = '';\r\n    for (let i = 0; i < length; i++) {\r\n        id += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return id;\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (makeRandomId);\r\n//# sourceMappingURL=makeRandomId.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL21ha2VSYW5kb21JZC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icm93c2Vyc2VydmVyLy4vbm9kZV9tb2R1bGVzL0BnZWNrb3MuaW8vY29tbW9uL2xpYi9tYWtlUmFuZG9tSWQuanM/NWU0NyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtYWtlUmFuZG9tSWQgPSAobGVuZ3RoID0gMjQpID0+IHtcclxuICAgIGNvbnN0IHBvc3NpYmxlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcclxuICAgIGxldCBpZCA9ICcnO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlkICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBpZDtcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgbWFrZVJhbmRvbUlkO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYWtlUmFuZG9tSWQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/makeRandomId.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/parseMessage.js":
/*!************************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/parseMessage.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"./node_modules/@geckos.io/common/lib/constants.js\");\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers.js */ \"./node_modules/@geckos.io/common/lib/helpers.js\");\n\r\n\r\nconst ParseMessage = (ev) => {\r\n    let { data } = ev;\r\n    if (!data)\r\n        data = ev;\r\n    const isBuffer = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isBufferMessage)(data);\r\n    const isJson = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isJSONMessage)(data);\r\n    const isString = (0,_helpers_js__WEBPACK_IMPORTED_MODULE_1__.isStringMessage)(data);\r\n    // if (!data && isRaw) return { key: EVENTS.RAW_MESSAGE, data }\r\n    // // probably server-side\r\n    // if (!data) {\r\n    //   if (isRawMessage(data)) {\r\n    //     return { key: EVENTS.RAW_MESSAGE, data: data }\r\n    //   } else {\r\n    //     const json = JSON.parse(data as any)\r\n    //     const key = Object.keys(json)[0]\r\n    //     const value = Object.values(json)[0]\r\n    //     return { key: key, data: value }\r\n    //   }\r\n    // }\r\n    if (isJson) {\r\n        const object = JSON.parse(data);\r\n        const key = Object.keys(object)[0];\r\n        const value = object[key];\r\n        return { key: key, data: value };\r\n    }\r\n    if (isBuffer) {\r\n        return { key: _constants_js__WEBPACK_IMPORTED_MODULE_0__.EVENTS.RAW_MESSAGE, data: data };\r\n    }\r\n    if (isString) {\r\n        return { key: _constants_js__WEBPACK_IMPORTED_MODULE_0__.EVENTS.RAW_MESSAGE, data: data };\r\n    }\r\n    return { key: 'error', data: new Error(_constants_js__WEBPACK_IMPORTED_MODULE_0__.ERRORS.COULD_NOT_PARSE_MESSAGE) };\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ParseMessage);\r\n//# sourceMappingURL=parseMessage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL3BhcnNlTWVzc2FnZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2Jyb3dzZXJzZXJ2ZXIvLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL3BhcnNlTWVzc2FnZS5qcz83YzA1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVSUk9SUywgRVZFTlRTIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xyXG5pbXBvcnQgeyBpc0J1ZmZlck1lc3NhZ2UsIGlzSlNPTk1lc3NhZ2UsIGlzU3RyaW5nTWVzc2FnZSB9IGZyb20gJy4vaGVscGVycy5qcyc7XHJcbmNvbnN0IFBhcnNlTWVzc2FnZSA9IChldikgPT4ge1xyXG4gICAgbGV0IHsgZGF0YSB9ID0gZXY7XHJcbiAgICBpZiAoIWRhdGEpXHJcbiAgICAgICAgZGF0YSA9IGV2O1xyXG4gICAgY29uc3QgaXNCdWZmZXIgPSBpc0J1ZmZlck1lc3NhZ2UoZGF0YSk7XHJcbiAgICBjb25zdCBpc0pzb24gPSBpc0pTT05NZXNzYWdlKGRhdGEpO1xyXG4gICAgY29uc3QgaXNTdHJpbmcgPSBpc1N0cmluZ01lc3NhZ2UoZGF0YSk7XHJcbiAgICAvLyBpZiAoIWRhdGEgJiYgaXNSYXcpIHJldHVybiB7IGtleTogRVZFTlRTLlJBV19NRVNTQUdFLCBkYXRhIH1cclxuICAgIC8vIC8vIHByb2JhYmx5IHNlcnZlci1zaWRlXHJcbiAgICAvLyBpZiAoIWRhdGEpIHtcclxuICAgIC8vICAgaWYgKGlzUmF3TWVzc2FnZShkYXRhKSkge1xyXG4gICAgLy8gICAgIHJldHVybiB7IGtleTogRVZFTlRTLlJBV19NRVNTQUdFLCBkYXRhOiBkYXRhIH1cclxuICAgIC8vICAgfSBlbHNlIHtcclxuICAgIC8vICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShkYXRhIGFzIGFueSlcclxuICAgIC8vICAgICBjb25zdCBrZXkgPSBPYmplY3Qua2V5cyhqc29uKVswXVxyXG4gICAgLy8gICAgIGNvbnN0IHZhbHVlID0gT2JqZWN0LnZhbHVlcyhqc29uKVswXVxyXG4gICAgLy8gICAgIHJldHVybiB7IGtleToga2V5LCBkYXRhOiB2YWx1ZSB9XHJcbiAgICAvLyAgIH1cclxuICAgIC8vIH1cclxuICAgIGlmIChpc0pzb24pIHtcclxuICAgICAgICBjb25zdCBvYmplY3QgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICAgIGNvbnN0IGtleSA9IE9iamVjdC5rZXlzKG9iamVjdClbMF07XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvYmplY3Rba2V5XTtcclxuICAgICAgICByZXR1cm4geyBrZXk6IGtleSwgZGF0YTogdmFsdWUgfTtcclxuICAgIH1cclxuICAgIGlmIChpc0J1ZmZlcikge1xyXG4gICAgICAgIHJldHVybiB7IGtleTogRVZFTlRTLlJBV19NRVNTQUdFLCBkYXRhOiBkYXRhIH07XHJcbiAgICB9XHJcbiAgICBpZiAoaXNTdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4geyBrZXk6IEVWRU5UUy5SQVdfTUVTU0FHRSwgZGF0YTogZGF0YSB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHsga2V5OiAnZXJyb3InLCBkYXRhOiBuZXcgRXJyb3IoRVJST1JTLkNPVUxEX05PVF9QQVJTRV9NRVNTQUdFKSB9O1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBQYXJzZU1lc3NhZ2U7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlTWVzc2FnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/parseMessage.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/reliableMessage.js":
/*!***************************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/reliableMessage.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"makeReliable\": () => (/* binding */ makeReliable)\n/* harmony export */ });\n/* harmony import */ var _makeRandomId_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./makeRandomId.js */ \"./node_modules/@geckos.io/common/lib/makeRandomId.js\");\n/* harmony import */ var _runInterval_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./runInterval.js */ \"./node_modules/@geckos.io/common/lib/runInterval.js\");\n\r\n\r\nconst makeReliable = (options, cb) => {\r\n    const { interval = 150, runs = 10 } = options;\r\n    const id = (0,_makeRandomId_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(24);\r\n    (0,_runInterval_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(interval, runs, () => {\r\n        cb(id);\r\n    });\r\n};\r\n\r\n//# sourceMappingURL=reliableMessage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL3JlbGlhYmxlTWVzc2FnZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJvd3NlcnNlcnZlci8uL25vZGVfbW9kdWxlcy9AZ2Vja29zLmlvL2NvbW1vbi9saWIvcmVsaWFibGVNZXNzYWdlLmpzPzQwZjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1ha2VSYW5kb21JZCBmcm9tICcuL21ha2VSYW5kb21JZC5qcyc7XHJcbmltcG9ydCBydW5JbnRlcnZhbCBmcm9tICcuL3J1bkludGVydmFsLmpzJztcclxuY29uc3QgbWFrZVJlbGlhYmxlID0gKG9wdGlvbnMsIGNiKSA9PiB7XHJcbiAgICBjb25zdCB7IGludGVydmFsID0gMTUwLCBydW5zID0gMTAgfSA9IG9wdGlvbnM7XHJcbiAgICBjb25zdCBpZCA9IG1ha2VSYW5kb21JZCgyNCk7XHJcbiAgICBydW5JbnRlcnZhbChpbnRlcnZhbCwgcnVucywgKCkgPT4ge1xyXG4gICAgICAgIGNiKGlkKTtcclxuICAgIH0pO1xyXG59O1xyXG5leHBvcnQgeyBtYWtlUmVsaWFibGUgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVsaWFibGVNZXNzYWdlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/reliableMessage.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/runInterval.js":
/*!***********************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/runInterval.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst runInterval = (interval = 200, runs = 1, cb) => {\r\n    let counter = 0;\r\n    if (typeof cb !== 'function') {\r\n        console.error('You have to define your callback function!');\r\n        return;\r\n    }\r\n    const i = setInterval(() => {\r\n        cb();\r\n        counter++;\r\n        if (counter === runs - 1) {\r\n            clearInterval(i);\r\n        }\r\n    }, interval);\r\n    cb();\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (runInterval);\r\n//# sourceMappingURL=runInterval.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL3J1bkludGVydmFsLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnJvd3NlcnNlcnZlci8uL25vZGVfbW9kdWxlcy9AZ2Vja29zLmlvL2NvbW1vbi9saWIvcnVuSW50ZXJ2YWwuanM/MjUxNyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBydW5JbnRlcnZhbCA9IChpbnRlcnZhbCA9IDIwMCwgcnVucyA9IDEsIGNiKSA9PiB7XHJcbiAgICBsZXQgY291bnRlciA9IDA7XHJcbiAgICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignWW91IGhhdmUgdG8gZGVmaW5lIHlvdXIgY2FsbGJhY2sgZnVuY3Rpb24hJyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaSA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICBjYigpO1xyXG4gICAgICAgIGNvdW50ZXIrKztcclxuICAgICAgICBpZiAoY291bnRlciA9PT0gcnVucyAtIDEpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBpbnRlcnZhbCk7XHJcbiAgICBjYigpO1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBydW5JbnRlcnZhbDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVuSW50ZXJ2YWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/runInterval.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/sendMessage.js":
/*!***********************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/sendMessage.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _helpers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers.js */ \"./node_modules/@geckos.io/common/lib/helpers.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants.js */ \"./node_modules/@geckos.io/common/lib/constants.js\");\n\r\n\r\nconst SendMessage = (dataChannel, maxMessageSize, eventName, data = null) => {\r\n    var _a;\r\n    const send = (data, isBuffer) => {\r\n        var _a;\r\n        const bytes = (_a = data.byteLength) !== null && _a !== void 0 ? _a : data.length * 2; // (times 2 for characters that uses 2 bytes per char)\r\n        if (typeof maxMessageSize === 'number' && bytes > maxMessageSize) {\r\n            throw new Error(`maxMessageSize of ${maxMessageSize} exceeded`);\r\n        }\r\n        else {\r\n            Promise.resolve()\r\n                .then(() => {\r\n                // server-side (send() does not exist on the server side)\r\n                if (dataChannel.send)\r\n                    dataChannel.send(data);\r\n                else {\r\n                    if (!isBuffer)\r\n                        dataChannel.sendMessage(data);\r\n                    else\r\n                        dataChannel.sendMessageBinary(Buffer.from(data));\r\n                }\r\n            })\r\n                .catch(error => {\r\n                console.log('error', error);\r\n            });\r\n        }\r\n    };\r\n    if (!dataChannel)\r\n        return;\r\n    if (dataChannel.readyState === 'open' || ((_a = dataChannel.isOpen) === null || _a === void 0 ? void 0 : _a.call(dataChannel))) {\r\n        try {\r\n            if (eventName === _constants_js__WEBPACK_IMPORTED_MODULE_1__.EVENTS.RAW_MESSAGE && data !== null && ((0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.isStringMessage)(data) || (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.isBufferMessage)(data))) {\r\n                send(data, (0,_helpers_js__WEBPACK_IMPORTED_MODULE_0__.isBufferMessage)(data));\r\n            }\r\n            else {\r\n                send(JSON.stringify({ [eventName]: data }), false);\r\n            }\r\n        }\r\n        catch (error) {\r\n            console.error('Error in sendMessage.ts: ', error.message);\r\n            return error;\r\n        }\r\n    }\r\n};\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SendMessage);\r\n//# sourceMappingURL=sendMessage.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL3NlbmRNZXNzYWdlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icm93c2Vyc2VydmVyLy4vbm9kZV9tb2R1bGVzL0BnZWNrb3MuaW8vY29tbW9uL2xpYi9zZW5kTWVzc2FnZS5qcz83YTg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQnVmZmVyTWVzc2FnZSwgaXNTdHJpbmdNZXNzYWdlIH0gZnJvbSAnLi9oZWxwZXJzLmpzJztcclxuaW1wb3J0IHsgRVZFTlRTIH0gZnJvbSAnLi9jb25zdGFudHMuanMnO1xyXG5jb25zdCBTZW5kTWVzc2FnZSA9IChkYXRhQ2hhbm5lbCwgbWF4TWVzc2FnZVNpemUsIGV2ZW50TmFtZSwgZGF0YSA9IG51bGwpID0+IHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IHNlbmQgPSAoZGF0YSwgaXNCdWZmZXIpID0+IHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgY29uc3QgYnl0ZXMgPSAoX2EgPSBkYXRhLmJ5dGVMZW5ndGgpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRhdGEubGVuZ3RoICogMjsgLy8gKHRpbWVzIDIgZm9yIGNoYXJhY3RlcnMgdGhhdCB1c2VzIDIgYnl0ZXMgcGVyIGNoYXIpXHJcbiAgICAgICAgaWYgKHR5cGVvZiBtYXhNZXNzYWdlU2l6ZSA9PT0gJ251bWJlcicgJiYgYnl0ZXMgPiBtYXhNZXNzYWdlU2l6ZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1heE1lc3NhZ2VTaXplIG9mICR7bWF4TWVzc2FnZVNpemV9IGV4Y2VlZGVkYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gc2VydmVyLXNpZGUgKHNlbmQoKSBkb2VzIG5vdCBleGlzdCBvbiB0aGUgc2VydmVyIHNpZGUpXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUNoYW5uZWwuc2VuZClcclxuICAgICAgICAgICAgICAgICAgICBkYXRhQ2hhbm5lbC5zZW5kKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0J1ZmZlcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUNoYW5uZWwuc2VuZE1lc3NhZ2UoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhQ2hhbm5lbC5zZW5kTWVzc2FnZUJpbmFyeShCdWZmZXIuZnJvbShkYXRhKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKCFkYXRhQ2hhbm5lbClcclxuICAgICAgICByZXR1cm47XHJcbiAgICBpZiAoZGF0YUNoYW5uZWwucmVhZHlTdGF0ZSA9PT0gJ29wZW4nIHx8ICgoX2EgPSBkYXRhQ2hhbm5lbC5pc09wZW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGRhdGFDaGFubmVsKSkpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnROYW1lID09PSBFVkVOVFMuUkFXX01FU1NBR0UgJiYgZGF0YSAhPT0gbnVsbCAmJiAoaXNTdHJpbmdNZXNzYWdlKGRhdGEpIHx8IGlzQnVmZmVyTWVzc2FnZShkYXRhKSkpIHtcclxuICAgICAgICAgICAgICAgIHNlbmQoZGF0YSwgaXNCdWZmZXJNZXNzYWdlKGRhdGEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbmQoSlNPTi5zdHJpbmdpZnkoeyBbZXZlbnROYW1lXTogZGF0YSB9KSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBzZW5kTWVzc2FnZS50czogJywgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IFNlbmRNZXNzYWdlO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZW5kTWVzc2FnZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/sendMessage.js\n");

/***/ }),

/***/ "./node_modules/@geckos.io/common/lib/types.js":
/*!*****************************************************!*\
  !*** ./node_modules/@geckos.io/common/lib/types.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ArrayBufferView\": () => (/* binding */ ArrayBufferView)\n/* harmony export */ });\nconst ArrayBufferView = Object.getPrototypeOf(Object.getPrototypeOf(new Uint8Array())).constructor;\r\n\r\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdlY2tvcy5pby9jb21tb24vbGliL3R5cGVzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9icm93c2Vyc2VydmVyLy4vbm9kZV9tb2R1bGVzL0BnZWNrb3MuaW8vY29tbW9uL2xpYi90eXBlcy5qcz8xZDMzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFycmF5QnVmZmVyVmlldyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihPYmplY3QuZ2V0UHJvdG90eXBlT2YobmV3IFVpbnQ4QXJyYXkoKSkpLmNvbnN0cnVjdG9yO1xyXG5leHBvcnQgeyBBcnJheUJ1ZmZlclZpZXcgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHlwZXMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@geckos.io/common/lib/types.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./client/client.js");
/******/ 	
/******/ })()
;